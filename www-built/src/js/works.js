require(["common"],function(i){requirejs(["sideBar"]),requirejs(["headerScroll"])}),define("works",function(){}),define("sideBar",["jquery"],function(i){!function(){var t={currentPos:1,maxSlide:6,labelMenu:"uncliked",listLinks:[],init:function(){this.cacheDom(),this.bindEvent(),this.creatLinkArray(),this.docLoad()},cacheDom:function(){this.$el=i(".projects-menu__list"),this.$navPrev=this.$el.find(".projects-menu__prev"),this.$navNext=this.$el.find(".projects-menu__next"),this.$blocks=this.$el.children("ul"),this.$blocksWidth=this.$el.children("ul").children("li").outerWidth(),this.$el=i("aside"),this.$current="sideBar-nav__items--current",this.$navWrapper=i(".wrapper__sideBar-nav"),this.$wrapperNav=this.$el.find(".sideBar-nav__title"),this.$navUl=this.$wrapperNav.parent().parent("ul"),this.$navLi=this.$navUl.find("li"),this.$navA=this.$wrapperNav.find("a"),this.$navLinks=i(".js-links-projects"),this.$navIcon=i(".sideBar-nav__icon"),this.$navTriangle=this.$el.find(".triangle-select"),this.$bouton=this.$el.find(".icon-arrow"),this.$SideBarWrapper=this.$el.find(".wrapper__sideBar-profile"),this.$SideBarProfile=this.$el.find(".cercle-profile"),this.$SideBarTitle=this.$el.find(".wrapper__sideBar-title"),this.$SideBarBtn=this.$el.find(".wrapper__sideBar-btn div"),this.$SideBarBtnIcon=this.$el.find(".wrapper__sideBar-btn div span"),this.$SideBarArrowLeft=this.$el.find(".arrowLeft"),this.$SideBarArrowRight=this.$el.find(".arrowRight"),this.$grildLeft=i(".grid__project--left"),this.$grildRight=i(".grid__project--right"),this.$backToTop=i(".wrapper__back-top"),this.$readMore=i(".js-read-more"),this.$readContent=i("#articleBtn")},bindEvent:function(){this.$navPrev.on("click",this.prevProjects),this.$navNext.on("click",this.nextProjects),this.$backToTop.on("click",this.backToTop),this.$readContent.on("click",this.scrollToContent),i(window).on("scroll",this.scrollWindows),void 0!==this.$wrapperNav.attr("class")&&(this.$wrapperNav.on("click",this.navigationClick),i(window).on("scroll",this.scrollToLink.bind(this)))},docLoad:function(){i(document).ready(function(){var e=i(window).scrollTop();e>600&&i(window).width()>1040?t.$backToTop.fadeIn():t.$backToTop.fadeOut()})},scrollWindows:function(){var e=i(window).scrollTop();e>600&&i(window).width()>1040?t.$backToTop.fadeIn():t.$backToTop.fadeOut()},scrollToContent:function(){var e=t.$readContent.offset().top;i("body,html").animate({scrollTop:e},500)},backToTop:function(){i("body,html").animate({scrollTop:0},500)},nextProjects:function(){1==t.currentPos?(t.$blocks.animate({marginLeft:t.currentPos*-t.$blocksWidth},1e3,"easeInOutCubic"),t.currentPos++):t.currentPos==t.maxSlide/2+1||(t.$blocks.animate({marginLeft:t.currentPos*-t.$blocksWidth},1e3,"easeInOutCubic"),t.currentPos++)},prevProjects:function(){1==t.currentPos||(t.currentPos==t.maxSlide?(t.$blocks.animate({marginLeft:(t.currentPos-1)*-t.$blocksWidth},1e3,"easeInOutCubic"),t.currentPos--):(t.$blocks.animate({marginLeft:(t.currentPos-2)*-t.$blocksWidth},1e3,"easeInOutCubic"),t.currentPos--))},creatLinkArray:function(){for(var t=0;t<this.$navLinks.length;t++)this.listLinks.push(i(this.$navLinks).eq(t).attr("href"))},navigationClick:function(){t.labelMenu="cliked",t.$navLi.removeClass(t.$current),i(this).parent("li").addClass(t.$current);var e=i(this).find("a").attr("href"),n=i(e),r=i("."+t.$current).offset().top-i(window).scrollTop();return t.$navTriangle.removeClass("hidden").css("top",r+34),i("body, html").stop().animate({scrollTop:n.offset().top+50+"px"},1e3,"easeInOutCubic",function(){t.labelMenu="uncliked"}),!1},scrollToLink:function(){if("uncliked"==this.labelMenu){for(var t=i(window).scrollTop(),e=i(window).height(),n=i(document).height(),r=0;r<this.listLinks.length;r++){var s=this.listLinks[r],a=i(s).offset().top,o=i(s).innerHeight();if(t>=a&&a+o>t){i("a[href='"+s+"']").parent().parent().addClass(this.$current);var c=i("."+this.$current).offset().top-i(window).scrollTop();this.$navTriangle.css("top",c+34).removeClass("hidden")}else i("a[href='"+s+"']").parent().parent().removeClass(this.$current)}if(t<i(this.listLinks[0]).offset().top&&this.$navTriangle.addClass("hidden"),t+e==n&&!i(".sideBar-nav li:last-child a").parent().parent().hasClass(this.$current)){var h=i(this.$current).attr("href");i("a[href='"+h+"']").parent().parent().removeClass(this.$current),i(".sideBar-nav li:last-child a").parent().parent().addClass(this.$current)}}}};t.init()}()}),define("headerScroll",["jquery"],function(i){!function(){var t={titleZoom:3,Hgap:10,img_h:i(".projectCover-overlay").height(),init:function(){this.cacheDom(),this.bindEvent()},cacheDom:function(){this.$main_navbar=i(".inner-projectCover"),this.$cover_img=this.$main_navbar.find(".projectCover-overlay"),this.$title=this.$main_navbar.find(".projet-pre-text"),this.$label_metier=this.$main_navbar.find(".wrapper-scroll"),this.$wrapper_header=i(".wrapper__project-big-img")},bindEvent:function(){i(window).on("scroll",this.headerLayout.bind(this))},rat:function(i){return 0>i?0:i>1?1:Number(i.toString().match(/^\d+(?:\.\d{0,2})?/))},headerLayout:function(){if(i(".border-top").css("display","none"),i(window).width()>1040){var t=i(window).scrollTop(),e=t/(this.img_h-50),n=this.rat(e);this.$title.css({opacity:1-2*n,transform:"scale("+(1-(this.titleZoom-1)*n)+")"}),this.$label_metier.css({opacity:1-4*n}),t>0?(this.$main_navbar[0].style.cssText+="; height: "+(this.img_h-t)+"px;",this.$cover_img[0].style.cssText+="; opacity: "+(.3+n)+";"):(this.$cover_img.css("opacity","0.3"),this.$main_navbar.css("height",""),this.$title.css({position:"",height:"",transform:"","font-size":"",opacity:1}))}}};t.init()}()});